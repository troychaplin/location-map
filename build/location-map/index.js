(()=>{"use strict";var e,t={950:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.element,i=window.wp.components,n=window.ReactJSXRuntime,l=JSON.parse('{"UU":"create-block/location-map"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const[s,r]=(0,a.useState)(e.latitude||""),[p,c]=(0,a.useState)(e.longitude||""),[d,u]=(0,a.useState)(!1),[g,w]=(0,a.useState)(""),m=(0,o.useBlockProps)();return(0,a.useEffect)((()=>{wp.apiFetch({path:"/wp/v2/location-map/settings"}).then((e=>{w(e.google_maps_api_key)}))}),[]),(0,a.useEffect)((()=>{if(window.google||d||!g)window.google&&u(!0);else{const e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${g}&libraries=places`,e.async=!0,e.defer=!0,e.onload=()=>u(!0),document.head.appendChild(e)}}),[d,g]),g?(0,n.jsx)("div",{...m,children:e.latitude?(0,n.jsx)("div",{id:"map",style:{height:"400px",width:"100%"},ref:e=>{e&&window.google&&!e.dataset.initialized&&setTimeout((()=>{if(window.google&&window.google.maps){const t=new window.google.maps.Map(e,{center:{lat:parseFloat(s),lng:parseFloat(p)},zoom:12});new window.google.maps.Marker({position:{lat:parseFloat(s),lng:parseFloat(p)},map:t}),e.dataset.initialized="true"}}),500)}}):(0,n.jsxs)("div",{className:"location-map-placeholder",children:[(0,n.jsx)(i.TextControl,{label:(0,t.__)("Latitude","location-map"),value:s,onChange:e=>r(e)}),(0,n.jsx)(i.TextControl,{label:(0,t.__)("Longitude","location-map"),value:p,onChange:e=>c(e)}),(0,n.jsx)(i.Button,{variant:"primary",onClick:()=>{l({latitude:s,longitude:p})},children:(0,t.__)("Add Map","location-map")})]})}):(0,n.jsx)("div",{...m,children:(0,n.jsx)(i.Notice,{status:"warning",children:(0,t.__)("Please configure your Google Maps API key in the Location Map settings.","location-map")})})},save:function({attributes:e}){const t=o.useBlockProps.save();return(0,n.jsx)("div",{...t,children:(0,n.jsx)("div",{className:"location-map-container","data-latitude":e.latitude,"data-longitude":e.longitude})})}})}},o={};function a(e){var i=o[e];if(void 0!==i)return i.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,o,i,n)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,i,n]=e[c],s=!0,r=0;r<o.length;r++)(!1&n||l>=n)&&Object.keys(a.O).every((e=>a.O[e](o[r])))?o.splice(r--,1):(s=!1,n<l&&(l=n));if(s){e.splice(c--,1);var p=i();void 0!==p&&(t=p)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,i,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={46:0,946:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var i,n,[l,s,r]=o,p=0;if(l.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(r)var c=r(a)}for(t&&t(o);p<l.length;p++)n=l[p],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},o=globalThis.webpackChunklocation_map=globalThis.webpackChunklocation_map||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=a.O(void 0,[946],(()=>a(950)));i=a.O(i)})();