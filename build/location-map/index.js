(()=>{"use strict";var e,t={950:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.element,n=window.wp.components,i=window.ReactJSXRuntime,r=JSON.parse('{"UU":"create-block/location-map"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const[l,s]=(0,a.useState)(e.latitude||""),[c,p]=(0,a.useState)(e.longitude||""),[d,u]=(0,a.useState)(!1),[h,w]=(0,a.useState)(""),g=(0,o.useBlockProps)();return(0,a.useEffect)((()=>{wp.apiFetch({path:"/wp/v2/location-map/settings"}).then((e=>{w(e.google_maps_api_key)})).catch((e=>{console.error("Error fetching API key:",e)}))}),[]),(0,a.useEffect)((()=>{if(!window.google&&!d&&h){const e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${h}`,e.async=!0,e.defer=!0,e.onload=()=>u(!0),document.head.appendChild(e)}}),[d,h]),h?(0,i.jsx)("div",{...g,children:e.latitude?(0,i.jsx)("div",{id:"map",style:{height:"400px",width:"100%"},ref:e=>{if(e&&window.google&&!e.dataset.initialized){const t=new window.google.maps.Map(e,{center:{lat:parseFloat(l),lng:parseFloat(c)},zoom:12});new window.google.maps.Marker({position:{lat:parseFloat(l),lng:parseFloat(c)},map:t}),e.dataset.initialized="true"}}}):(0,i.jsxs)("div",{className:"location-map-placeholder",children:[(0,i.jsx)(n.TextControl,{label:(0,t.__)("Latitude","location-map"),value:l,onChange:e=>s(e)}),(0,i.jsx)(n.TextControl,{label:(0,t.__)("Longitude","location-map"),value:c,onChange:e=>p(e)}),(0,i.jsx)(n.Button,{isPrimary:!0,onClick:()=>{r({latitude:l,longitude:c})},children:(0,t.__)("Add Map","location-map")})]})}):(0,i.jsx)("div",{...g,children:(0,i.jsx)(n.Notice,{status:"warning",children:(0,t.__)("Please configure your Google Maps API key in the Location Map settings.","location-map")})})},save:function(){return(0,i.jsx)("p",{...o.useBlockProps.save(),children:"Location Map â€“ hello from the saved content!"})}})}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,o,n,i)=>{if(!o){var r=1/0;for(p=0;p<e.length;p++){for(var[o,n,i]=e[p],l=!0,s=0;s<o.length;s++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](o[s])))?o.splice(s--,1):(l=!1,i<r&&(r=i));if(l){e.splice(p--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[o,n,i]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={46:0,946:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var n,i,[r,l,s]=o,c=0;if(r.some((t=>0!==e[t]))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var p=s(a)}for(t&&t(o);c<r.length;c++)i=r[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(p)},o=globalThis.webpackChunklocation_map=globalThis.webpackChunklocation_map||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=a.O(void 0,[946],(()=>a(950)));n=a.O(n)})();