(()=>{"use strict";var e,o={950:()=>{const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.blockEditor,a=window.wp.element,i=window.wp.components,n=window.ReactJSXRuntime,l=JSON.parse('{"UU":"create-block/location-map"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const[s,r]=(0,a.useState)(e.latitude||""),[p,c]=(0,a.useState)(e.longitude||""),[d,u]=(0,a.useState)(!1),[w,g]=(0,a.useState)(""),h=(0,t.useBlockProps)();return(0,a.useEffect)((()=>{wp.apiFetch({path:"/wp/v2/location-map/settings"}).then((e=>{g(e.google_maps_api_key)}))}),[]),(0,a.useEffect)((()=>{if(window.google||d||!w)window.google&&u(!0);else{const e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${w}&libraries=places`,e.async=!0,e.defer=!0,e.onload=()=>u(!0),document.head.appendChild(e)}}),[d,w]),w?(0,n.jsx)("div",{...h,children:e.latitude?(0,n.jsx)("div",{id:"map",style:{height:"400px",width:"100%"},ref:e=>{e&&window.google&&!e.dataset.initialized&&setTimeout((()=>{if(window.google&&window.google.maps){const o=new window.google.maps.Map(e,{center:{lat:parseFloat(s),lng:parseFloat(p)},zoom:12});new window.google.maps.Marker({position:{lat:parseFloat(s),lng:parseFloat(p)},map:o}),e.dataset.initialized="true"}}),500)}}):(0,n.jsxs)("div",{className:"location-map-placeholder",children:[(0,n.jsx)(i.TextControl,{label:(0,o.__)("Latitude","location-map"),value:s,onChange:e=>r(e)}),(0,n.jsx)(i.TextControl,{label:(0,o.__)("Longitude","location-map"),value:p,onChange:e=>c(e)}),(0,n.jsx)(i.Button,{variant:"primary",onClick:()=>{l({latitude:s,longitude:p})},children:(0,o.__)("Add Map","location-map")})]})}):(0,n.jsx)("div",{...h,children:(0,n.jsx)(i.Notice,{status:"warning",children:(0,o.__)("Please configure your Google Maps API key in the Location Map settings.","location-map")})})},save:function(){return(0,n.jsx)("p",{...t.useBlockProps.save(),children:"Location Map â€“ hello from the saved content!"})}})}},t={};function a(e){var i=t[e];if(void 0!==i)return i.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,a),n.exports}a.m=o,e=[],a.O=(o,t,i,n)=>{if(!t){var l=1/0;for(c=0;c<e.length;c++){for(var[t,i,n]=e[c],s=!0,r=0;r<t.length;r++)(!1&n||l>=n)&&Object.keys(a.O).every((e=>a.O[e](t[r])))?t.splice(r--,1):(s=!1,n<l&&(l=n));if(s){e.splice(c--,1);var p=i();void 0!==p&&(o=p)}}return o}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,i,n]},a.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={46:0,946:0};a.O.j=o=>0===e[o];var o=(o,t)=>{var i,n,[l,s,r]=t,p=0;if(l.some((o=>0!==e[o]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(r)var c=r(a)}for(o&&o(t);p<l.length;p++)n=l[p],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},t=globalThis.webpackChunklocation_map=globalThis.webpackChunklocation_map||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var i=a.O(void 0,[946],(()=>a(950)));i=a.O(i)})();